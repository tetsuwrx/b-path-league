{% extends "scorelistlayout.html" %}
{% block content %}
<form name="entryForm" method="POST" target="_self" action="scorelist.php">
  <div class="menu">対戦結果検索</div>
  <div class="title">
    <div class="main">
      <div class="conditionForm">
        <input type="date" name="dateFrom" class="dateForm" value="{{ dateFrom }}">
      </div>
      <div class="conditionForm">
        <input type="date" name="dateTo" class="dateForm" value="{{ dateTo }}">
      </div>
      <div class="conditionForm">
        <label for="p1Name">なまえ：</label>
        <select class="p1Name" name="p1No" onchange="setClass(this, document.entryForm.p1Class, document.entryForm.p1ScoreWin, document.entryForm.p1Masu)">
            <option value="0">▼ -- 選択 -- ▼</option>
          {% for member in memberlist %}
            <option value="{{ member.memberno }}">{{ member.name }}</option>
          {% endfor %}
        </select>
        <select name="p1NameAll" style="display:none;">
            <option value="0">▼ -- 選択 -- ▼</option>
          {% for member in memberlist %}
            <option value="{{ member.memberno }}">{{ member.name }}</option>
          {% endfor %}
        </select>
      </div>
    </div>
    <div class="main">
      <div class="conditionForm">
        <input type="submit" name="searchSubmit" class="searchSubmit" value="検索">
      </div>
    </div>
    {% if scorelist|length > 0 %}
    <div class="matchReport">
      <table id="matchReport" name="matchReport">
        <thead>
          <tr>
            <th>対戦番号</th>
            <th>対戦日</th>
            <th>対戦者1なまえ</th>
            <th>対戦者1スコア</th>
            <th>対戦者1勝利？</th>
            <th>対戦者2なまえ</th>
            <th>対戦者2スコア</th>
            <th>対戦者2勝利？</th>
          </tr>
        </thead>
      {% for score in scorelist %}
        <tr>
          <td>{{ score.matchno }}</td>
          <td>{{ score.matchdate }}</td>
          <td>{{ score.player1name }}</td>
          <td>{{ score.player1score }}</td>
          <td>{{ score.player1win }}</td>
          <td>{{ score.player2name }}</td>
          <td>{{ score.player2score }}</td>
          <td>{{ score.player2win }}</td>
        </tr>
      {% endfor %}
      </table>
    </div>
    <div class="searchResult">
      <button type="button" name="displayAll" value="" onclick="displayChange('matchresultAll')">全試合結果</button>
      <table id="matchresultAll" style="display:none">
        <thead>
          <tr>
            <th>対戦番号</th>
            <th>対戦日</th>
            <th>対戦者1なまえ</th>
            <th>対戦者1スコア</th>
            <th>対戦者1勝利？</th>
            <th>対戦者2なまえ</th>
            <th>対戦者2スコア</th>
            <th>対戦者2勝利？</th>
          </tr>
        </thead>
      {% for score in scorelist %}
        <tr>
          <td>{{ score.matchno }}</td>
          <td>{{ score.matchdate }}</td>
          <td>{{ score.player1name }}</td>
          <td>{{ score.player1score }}</td>
          <td>{{ score.player1win }}</td>
          <td>{{ score.player2name }}</td>
          <td>{{ score.player2score }}</td>
          <td>{{ score.player2win }}</td>
        </tr>
      {% endfor %}
      </table>
    </div>
    {% endif %}
  </div>
</form>
{% endblock %}
